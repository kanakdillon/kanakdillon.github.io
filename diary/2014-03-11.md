## 路上

1. 复习 Evernote 笔记

## 上午

1. 重构 Goods 的代码，使用 nested attributes 来处理「同时创建 goods 和 goods detail 的问题」

    遇到的问题：创建 detail 时，系统说找不到 goods_id.
    
# 下午

1. bug处理：商品搜索时，会有重复的记录


# 总结

1. delegate

2. nested attributes 与验证之间的关系

3. class_eval

4. instance_eval

5. current_class

6. 扁平作用域

